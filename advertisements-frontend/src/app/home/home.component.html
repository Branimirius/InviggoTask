<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<app-navigation></app-navigation>
<section class="vh-200" style="background-color: #eee;">
    <div class="container h-200">
        <div class="row d-flex justify-content-center align-items-center h-200">
            <div class="col-lg-12 col-xl-11">
                <div class="card text-black" style="border-radius: 25px;">
                    <div class="card-body p-md-5">
                        <h2 class="mr-2"><span>Advertisements</span></h2>
                        <div class="row justify-content-center">
                            
                        
                                
                        
                            
                                <div class="e-table" >
                                    <div class="table-responsive table-lg mt-3">
                                        <table class="table table-bordered">
                                            <thead>
                                                <tr>                             
                                                    <th>Image</th>
                                                    <th >Name</th>
                                                    <th >Price</th>
                                                    <th> City </th>
                                                    <th>Category</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let ad of ads">                             
                                                
                                                    <td class="text-nowrap align-middle">{{ad.photoUrl}}</td>
                                                    <td class="text-nowrap align-middle"><span>{{ad.name}}</span></td>
                                                    <td class="text-center align-middle">{{ad.price}}</td>
                                                    <td class="align-middle text-center">{{ad.city}}</td>
                                                    <td class="align-middle text-center">{{ad.category}}</td>


                                                    <td class="text-center align-middle">
                                                        <div  class="btn-group align-top">
                                                            <button *ngIf="ad.userId != 0" class="btn btn-sm btn-outline-secondary badge" type="button" (click)="openDialogWithoutRef(ad.userId, true)">details</button>

                                                            <button *ngIf="currentUser.id == ad.userId" class="btn btn-sm btn-outline-secondary badge" type="button"  (click)="openDialogWithoutRef(ad.userId, false)">Edit</button>
                                                            <button *ngIf="currentUser.id == ad.userId" class="btn btn-sm btn-outline-secondary badge" type="button"><i class="fa fa-trash"></i></button>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="d-flex justify-content-center">
                                        <ul class="pagination mt-3 mb-0">
                                        <li class="disabled page-item"><a href="#" class="page-link">‹</a></li>
                                        
                                        <li class="page-item"><a href="#" class="page-link">›</a></li>
                                        
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
 <!-- Dialog template #1 -->
 <ng-template #firstDialog>
    <h2 matDialogTitle>Details</h2>
    <mat-dialog-content>
      <div class="container">
        <div class="row flex-lg-nowrap">
          <div class="col">
            <div class="row">
              <div class="col mb-3">
                <div class="card">
                  <div class="card-body">
                    <div class="e-profile">
                      <div class="row">
                        <div class="col-12 col-sm-auto mb-3">
                          <div class="mx-auto" style="width: 140px;">
                            <div class="d-flex justify-content-center align-items-center rounded" style="height: 140px; background-color: rgb(233, 236, 239);">
                              <span style="color: rgb(166, 168, 170); font: bold 8pt Arial;">140x140</span>
                            </div>
                          </div>
                        </div>
                        <div class="col d-flex flex-column flex-sm-row justify-content-between mb-3">
                          <div class="text-center text-sm-left mb-2 mb-sm-0">
                            <h4 class="pt-sm-2 pb-1 mb-0 text-nowrap">{{peekProfile.username}}  </h4>
                            <p class="mb-0"></p>
                            <div class="text-muted"><small></small></div>
                          </div>
                          <div class="text-center text-sm-right">
                            <div class="text-muted"><small>joined on: {{peekProfile.dateJoined}}</small></div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>          
          </div>
        </div>
      </div>
    </mat-dialog-content>
    
    <mat-dialog-actions align="end">        
      <button mat-button matDialogClose color="primary"> Close</button>
    </mat-dialog-actions>
  </ng-template>
  <!-- Dialog template #2 -->
  <ng-template #secondDialog>
    <h2 matDialogTitle>Fishing reservation review</h2>
    <mat-dialog-content>
      <div class="row">
        <div class="col">
          <div class="row">
            <div class="col mb-3">
              <div class="form-group">
                <label>Advertisements CRUD is not implemented yet :( </label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </mat-dialog-content>
    
    <mat-dialog-actions align="end">
      <button mat-button matDialogClose color="primary"> Close</button>
    </mat-dialog-actions>
  </ng-template> 

